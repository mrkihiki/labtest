<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=Windows-1251">
  <title>“ест</title>
 </head>
 
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>

      </script>
 <body>

<style>
.center {
  margin: 0;
  position: absolute;
  top: 50%;
  left: 50%;
  -ms-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
} 
</style>

<script type="text/javascript">
$(function()	{
//при нажатии на €чейку таблицы с классом edit
$('td.edit').click(function(){
//находим input внутри элемента с классом ajax и вставл€ем вместо input его значение
$('.ajax').html($('.ajax input').val());
//удал€ем все классы ajax
$('.ajax').removeClass('ajax');
//Ќажатой €чейке присваиваем класс ajax
$(this).addClass('ajax');
//внутри €чейки создаЄм input и вставл€ем текст из €чейки в него
$(this).html('<input id="editbox" size="'+ $(this).text().length+'" type="text" value="' + $(this).text() + '" />');
//устанавливаем фокус на созданном элементе
$('#editbox').focus();
});

//при нажатии на €чейку таблицы с классом edit
$('td.edit').click(function(){
//находим input внутри элемента с классом ajax и вставл€ем вместо input его значение
$('.ajax').html($('.ajax input').val());
//удал€ем все классы ajax
$('.ajax').removeClass('ajax');
//Ќажатой €чейке присваиваем класс ajax
$(this).addClass('ajax');
//внутри €чейки создаЄм input и вставл€ем текст из €чейки в него
$(this).html('<input id="editbox" size="'+ $(this).text().length+'" type="text" value="' + $(this).text() + '" />');
//устанавливаем фокус на созданном элементе
$('#editbox').focus();

//test github


//определ€ем нажатие кнопки на клавиатуре
$('td.edit').keydown(function(event){
//получаем значение класса и разбиваем на массив ->
//<- в итоге получаем такой массив - arr[0] = edit, arr[1] = наименование столбца, arr[2] = id строки
arr = $(this).attr('class').split( " " );
console.log(arr);
//провер€ем кака€ была нажата клавиша и если была нажата клавиша Enter (код 13)
   if(event.which == 13)
   {
//получаем наименование таблицы, в которую будем вносить изменени€
var table = $('table').attr('id');
//выполн€ем ajax запрос методом POST
 $.ajax({ type: "POST",
//в файл update_cell.php
 url:"someaction.do?action=saveData",
//создаЄм строку дл€ отправки запроса
//value = введенное значение
//id = номер строки
//field = название столбца
//table = собственно название таблицы
 data: "value="+$('.ajax input').val()+"&id="+arr[2]+"&field="+arr[1]+"&table="+table,
//при удачном выполнении скрипта, производим действи€
 success: function(data){
//находим input внутри элемента с классом ajax и вставл€ем вместо input его значение
 $('.ajax').html($('.ajax input').val());
//уда€лем класс ajax
 $('.ajax').removeClass('ajax');
 }});
 }});
 $(document).on('blur', '#editbox', function(){
$('.ajax').html($('.ajax input').val());
$('.ajax').removeClass('ajax');
});
});
    </script>

</pre>
<table id="clients">
<tbody>
<tr>
<th>»м€</th>
<th>‘амили€</th>
<th>“елефон</th>
<th>“елефон1</th>
</tr>
<!--Ёта часть выводитс€ с помощью php -->
<tr>
<td class="edit firstname '.$rows['id'].'">'.$rows['firstname'].'</td>
<td class="edit lastname '.$rows['id'].'">'.$rows['lastname'].'</td>
<td class="edit phone '.$rows['id'].'">'.$rows['phone'].'</td>
<td>'.$rows.'</td>
</tr>
</tbody>
</table>
<pre>



